<%- include ('partials/header') -%>

<main class="py-3 md:py-10">
    <section class="md:flex px-5 sm:px-10 lg:px-20 gap-x-10">
        <div class="hidden md:block md:w-[30%]">
            <div class="">
                <h2 class="font-bold text-2xl border-b border-gray-500 mb-5 py-5">Transaction Management</h2>
                <a href="/profile/order"><span class="font-semibold">My Order</span></a>
            </div>
            
            <div>
                <h2 class="font-bold text-2xl border-b border-gray-500 mb-5 py-5">Account</h2>
                <div class="flex flex-col gap-y-3">
                    <a href="/profile/person"><span>Personal Information</span></a>
                    <a href="/profile/address" id="addressManagement"><span>Address Management</span></a>
                </div>
            </div>
            <div class="mt-3">
                <a href="/auth/logout"><span>Logout</span></a>
            </div>  
        </div>
        <div class="md:w-[70%]">
            <div class="font-bold border-b border-gray-500 py-5 flex justify-between">
                <h1 class="text-4xl">All Orders</h1>
            </div>

            <% order.forEach(function(orderItem) { %>
                <div class="shadow rounded-md mt-5">
                    <div class="bg-blue-200">
                        <div class="flex justify-between font-semibold text-lg mx-10 py-4">
                            <h3>Order Information</h3>             
                        </div>                 
                    </div>
                    <div class="flex flex-col mx-10 py-5 gap-y-4">
                        
                                <span>
                                    <strong class="mr-2">Order Number:</strong><span><%= orderItem.orderNumber %></span>
                                </span>
                                <span>
                                    <strong class="mr-2">Email:</strong><span><%= orderItem.userEmail %></span>
                                </span>
                                <span>
                                    <strong class="mr-2">Selected PaymentMethod:</strong><span><%= orderItem.selectedPaymentMethod %></span>
                                </span>
                                <span>
                                    <strong class="mr-2">Payment reference:</strong><span><%= orderItem.reference %></span>
                                </span>
                                <span>
                                    <strong class="mr-2">Total Amount:</strong><span><%= orderItem.totalAmount %></span>
                                </span>
                                <ul>
                                    <strong class="mr-2">Items:</strong>
                                    <% orderItem.items.forEach(function(item) { %>
                                        <li>
                                            <span><%= item.name %> (size: <%= item.size %>) x<%= item.quantity %></span>
                                        </li>
                                    <% }); %>
                                </ul>
                                <span>
                                    <strong class="mr-2">Selected Address:</strong>
                                    <span><%= orderItem.selectedAddress.streetAddress %>, <%= orderItem.selectedAddress.city %>, <%= orderItem.selectedAddress.state %>, <%= orderItem.selectedAddress.country %></span>
                                </span>
                                <span>
                                    <strong class="mr-2">Order Date:</strong><span><%= orderItem.orderDate %></span>
                                </span>
                        
                    </div>               
                </div>
            <% }); %>
        </div>
    </section>
</main>

<%- include ('partials/footer') -%>

</body>
</html>